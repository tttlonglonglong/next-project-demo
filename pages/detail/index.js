import widthRepoBasic from "../../components/widthRepoBasic";
import dynamic from "next/dynamic";
import api from "../../lib/api";

const MdRender = dynamic(() => import("../../components/MarkdownRender"), {
  // 加载过程中的loading配置
  loading: () => <p>Loading</p>
});
const data = {
  data: { "name": "README.md", "path": "README.md", "sha": "33d3929acc15dc3660c822f9ed09a8762ad43552", "size": 5166, "url": "https://api.github.com/repos/facebook/react/contents/README.md?ref=master", "html_url": "https://github.com/facebook/react/blob/master/README.md", "git_url": "https://api.github.com/repos/facebook/react/git/blobs/33d3929acc15dc3660c822f9ed09a8762ad43552", "download_url": "https://raw.githubusercontent.com/facebook/react/master/README.md", "type": "file", "content": "IyBbUmVhY3RdKGh0dHBzOi8vcmVhY3Rqcy5vcmcvKSAmbWlkZG90OyBbIVtH\naXRIdWIgbGljZW5zZV0oaHR0cHM6Ly9pbWcuc2hpZWxkcy5pby9iYWRnZS9s\naWNlbnNlLU1JVC1ibHVlLnN2ZyldKGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNl\nYm9vay9yZWFjdC9ibG9iL21hc3Rlci9MSUNFTlNFKSBbIVtucG0gdmVyc2lv\nbl0oaHR0cHM6Ly9pbWcuc2hpZWxkcy5pby9ucG0vdi9yZWFjdC5zdmc/c3R5\nbGU9ZmxhdCldKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3JlYWN0\nKSBbIVtDaXJjbGVDSSBTdGF0dXNdKGh0dHBzOi8vY2lyY2xlY2kuY29tL2do\nL2ZhY2Vib29rL3JlYWN0LnN2Zz9zdHlsZT1zaGllbGQmY2lyY2xlLXRva2Vu\nPTpjaXJjbGUtdG9rZW4pXShodHRwczovL2NpcmNsZWNpLmNvbS9naC9mYWNl\nYm9vay9yZWFjdCkgWyFbUFJzIFdlbGNvbWVdKGh0dHBzOi8vaW1nLnNoaWVs\nZHMuaW8vYmFkZ2UvUFJzLXdlbGNvbWUtYnJpZ2h0Z3JlZW4uc3ZnKV0oaHR0\ncHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2hvdy10by1jb250cmlidXRlLmh0bWwj\neW91ci1maXJzdC1wdWxsLXJlcXVlc3QpCgpSZWFjdCBpcyBhIEphdmFTY3Jp\ncHQgbGlicmFyeSBmb3IgYnVpbGRpbmcgdXNlciBpbnRlcmZhY2VzLgoKKiAq\nKkRlY2xhcmF0aXZlOioqIFJlYWN0IG1ha2VzIGl0IHBhaW5sZXNzIHRvIGNy\nZWF0ZSBpbnRlcmFjdGl2ZSBVSXMuIERlc2lnbiBzaW1wbGUgdmlld3MgZm9y\nIGVhY2ggc3RhdGUgaW4geW91ciBhcHBsaWNhdGlvbiwgYW5kIFJlYWN0IHdp\nbGwgZWZmaWNpZW50bHkgdXBkYXRlIGFuZCByZW5kZXIganVzdCB0aGUgcmln\naHQgY29tcG9uZW50cyB3aGVuIHlvdXIgZGF0YSBjaGFuZ2VzLiBEZWNsYXJh\ndGl2ZSB2aWV3cyBtYWtlIHlvdXIgY29kZSBtb3JlIHByZWRpY3RhYmxlLCBz\naW1wbGVyIHRvIHVuZGVyc3RhbmQsIGFuZCBlYXNpZXIgdG8gZGVidWcuCiog\nKipDb21wb25lbnQtQmFzZWQ6KiogQnVpbGQgZW5jYXBzdWxhdGVkIGNvbXBv\nbmVudHMgdGhhdCBtYW5hZ2UgdGhlaXIgb3duIHN0YXRlLCB0aGVuIGNvbXBv\nc2UgdGhlbSB0byBtYWtlIGNvbXBsZXggVUlzLiBTaW5jZSBjb21wb25lbnQg\nbG9naWMgaXMgd3JpdHRlbiBpbiBKYXZhU2NyaXB0IGluc3RlYWQgb2YgdGVt\ncGxhdGVzLCB5b3UgY2FuIGVhc2lseSBwYXNzIHJpY2ggZGF0YSB0aHJvdWdo\nIHlvdXIgYXBwIGFuZCBrZWVwIHN0YXRlIG91dCBvZiB0aGUgRE9NLgoqICoq\nTGVhcm4gT25jZSwgV3JpdGUgQW55d2hlcmU6KiogV2UgZG9uJ3QgbWFrZSBh\nc3N1bXB0aW9ucyBhYm91dCB0aGUgcmVzdCBvZiB5b3VyIHRlY2hub2xvZ3kg\nc3RhY2ssIHNvIHlvdSBjYW4gZGV2ZWxvcCBuZXcgZmVhdHVyZXMgaW4gUmVh\nY3Qgd2l0aG91dCByZXdyaXRpbmcgZXhpc3RpbmcgY29kZS4gUmVhY3QgY2Fu\nIGFsc28gcmVuZGVyIG9uIHRoZSBzZXJ2ZXIgdXNpbmcgTm9kZSBhbmQgcG93\nZXIgbW9iaWxlIGFwcHMgdXNpbmcgW1JlYWN0IE5hdGl2ZV0oaHR0cHM6Ly9y\nZWFjdG5hdGl2ZS5kZXYvKS4KCltMZWFybiBob3cgdG8gdXNlIFJlYWN0IGlu\nIHlvdXIgb3duIHByb2plY3RdKGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9n\nZXR0aW5nLXN0YXJ0ZWQuaHRtbCkuCgojIyBJbnN0YWxsYXRpb24KClJlYWN0\nIGhhcyBiZWVuIGRlc2lnbmVkIGZvciBncmFkdWFsIGFkb3B0aW9uIGZyb20g\ndGhlIHN0YXJ0LCBhbmQgKip5b3UgY2FuIHVzZSBhcyBsaXR0bGUgb3IgYXMg\nbXVjaCBSZWFjdCBhcyB5b3UgbmVlZCoqOgoKKiBVc2UgW09ubGluZSBQbGF5\nZ3JvdW5kc10oaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2dldHRpbmctc3Rh\ncnRlZC5odG1sI29ubGluZS1wbGF5Z3JvdW5kcykgdG8gZ2V0IGEgdGFzdGUg\nb2YgUmVhY3QuCiogW0FkZCBSZWFjdCB0byBhIFdlYnNpdGVdKGh0dHBzOi8v\ncmVhY3Rqcy5vcmcvZG9jcy9hZGQtcmVhY3QtdG8tYS13ZWJzaXRlLmh0bWwp\nIGFzIGEgYDxzY3JpcHQ+YCB0YWcgaW4gb25lIG1pbnV0ZS4KKiBbQ3JlYXRl\nIGEgTmV3IFJlYWN0IEFwcF0oaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2Ny\nZWF0ZS1hLW5ldy1yZWFjdC1hcHAuaHRtbCkgaWYgeW91J3JlIGxvb2tpbmcg\nZm9yIGEgcG93ZXJmdWwgSmF2YVNjcmlwdCB0b29sY2hhaW4uCgpZb3UgY2Fu\nIHVzZSBSZWFjdCBhcyBhIGA8c2NyaXB0PmAgdGFnIGZyb20gYSBbQ0ROXSho\ndHRwczovL3JlYWN0anMub3JnL2RvY3MvY2RuLWxpbmtzLmh0bWwpLCBvciBh\ncyBhIGByZWFjdGAgcGFja2FnZSBvbiBbbnBtXShodHRwczovL3d3dy5ucG1q\ncy5jb20vcGFja2FnZS9yZWFjdCkuCgojIyBEb2N1bWVudGF0aW9uCgpZb3Ug\nY2FuIGZpbmQgdGhlIFJlYWN0IGRvY3VtZW50YXRpb24gW29uIHRoZSB3ZWJz\naXRlXShodHRwczovL3JlYWN0anMub3JnL2RvY3MpLiAgCgpDaGVjayBvdXQg\ndGhlIFtHZXR0aW5nIFN0YXJ0ZWRdKGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9j\ncy9nZXR0aW5nLXN0YXJ0ZWQuaHRtbCkgcGFnZSBmb3IgYSBxdWljayBvdmVy\ndmlldy4KClRoZSBkb2N1bWVudGF0aW9uIGlzIGRpdmlkZWQgaW50byBzZXZl\ncmFsIHNlY3Rpb25zOgoKKiBbVHV0b3JpYWxdKGh0dHBzOi8vcmVhY3Rqcy5v\ncmcvdHV0b3JpYWwvdHV0b3JpYWwuaHRtbCkKKiBbTWFpbiBDb25jZXB0c10o\naHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2hlbGxvLXdvcmxkLmh0bWwpCiog\nW0FkdmFuY2VkIEd1aWRlc10oaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2pz\neC1pbi1kZXB0aC5odG1sKQoqIFtBUEkgUmVmZXJlbmNlXShodHRwczovL3Jl\nYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwpCiogW1doZXJlIHRvIEdl\ndCBTdXBwb3J0XShodHRwczovL3JlYWN0anMub3JnL2NvbW11bml0eS9zdXBw\nb3J0Lmh0bWwpCiogW0NvbnRyaWJ1dGluZyBHdWlkZV0oaHR0cHM6Ly9yZWFj\ndGpzLm9yZy9kb2NzL2hvdy10by1jb250cmlidXRlLmh0bWwpCgpZb3UgY2Fu\nIGltcHJvdmUgaXQgYnkgc2VuZGluZyBwdWxsIHJlcXVlc3RzIHRvIFt0aGlz\nIHJlcG9zaXRvcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0\nanMub3JnKS4KCiMjIEV4YW1wbGVzCgpXZSBoYXZlIHNldmVyYWwgZXhhbXBs\nZXMgW29uIHRoZSB3ZWJzaXRlXShodHRwczovL3JlYWN0anMub3JnLykuIEhl\ncmUgaXMgdGhlIGZpcnN0IG9uZSB0byBnZXQgeW91IHN0YXJ0ZWQ6CgpgYGBq\nc3gKZnVuY3Rpb24gSGVsbG9NZXNzYWdlKHsgbmFtZSB9KSB7CiAgcmV0dXJu\nIDxkaXY+SGVsbG8ge25hbWV9PC9kaXY+Owp9CgpSZWFjdERPTS5yZW5kZXIo\nCiAgPEhlbGxvTWVzc2FnZSBuYW1lPSJUYXlsb3IiIC8+LAogIGRvY3VtZW50\nLmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKQopOwpgYGAKClRoaXMgZXhh\nbXBsZSB3aWxsIHJlbmRlciAiSGVsbG8gVGF5bG9yIiBpbnRvIGEgY29udGFp\nbmVyIG9uIHRoZSBwYWdlLgoKWW91J2xsIG5vdGljZSB0aGF0IHdlIHVzZWQg\nYW4gSFRNTC1saWtlIHN5bnRheDsgW3dlIGNhbGwgaXQgSlNYXShodHRwczov\nL3JlYWN0anMub3JnL2RvY3MvaW50cm9kdWNpbmctanN4Lmh0bWwpLiBKU1gg\naXMgbm90IHJlcXVpcmVkIHRvIHVzZSBSZWFjdCwgYnV0IGl0IG1ha2VzIGNv\nZGUgbW9yZSByZWFkYWJsZSwgYW5kIHdyaXRpbmcgaXQgZmVlbHMgbGlrZSB3\ncml0aW5nIEhUTUwuIElmIHlvdSdyZSB1c2luZyBSZWFjdCBhcyBhIGA8c2Ny\naXB0PmAgdGFnLCByZWFkIFt0aGlzIHNlY3Rpb25dKGh0dHBzOi8vcmVhY3Rq\ncy5vcmcvZG9jcy9hZGQtcmVhY3QtdG8tYS13ZWJzaXRlLmh0bWwjb3B0aW9u\nYWwtdHJ5LXJlYWN0LXdpdGgtanN4KSBvbiBpbnRlZ3JhdGluZyBKU1g7IG90\naGVyd2lzZSwgdGhlIFtyZWNvbW1lbmRlZCBKYXZhU2NyaXB0IHRvb2xjaGFp\nbnNdKGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9jcmVhdGUtYS1uZXctcmVh\nY3QtYXBwLmh0bWwpIGhhbmRsZSBpdCBhdXRvbWF0aWNhbGx5LgoKIyMgQ29u\ndHJpYnV0aW5nCgpUaGUgbWFpbiBwdXJwb3NlIG9mIHRoaXMgcmVwb3NpdG9y\neSBpcyB0byBjb250aW51ZSBldm9sdmluZyBSZWFjdCBjb3JlLCBtYWtpbmcg\naXQgZmFzdGVyIGFuZCBlYXNpZXIgdG8gdXNlLiBEZXZlbG9wbWVudCBvZiBS\nZWFjdCBoYXBwZW5zIGluIHRoZSBvcGVuIG9uIEdpdEh1YiwgYW5kIHdlIGFy\nZSBncmF0ZWZ1bCB0byB0aGUgY29tbXVuaXR5IGZvciBjb250cmlidXRpbmcg\nYnVnZml4ZXMgYW5kIGltcHJvdmVtZW50cy4gUmVhZCBiZWxvdyB0byBsZWFy\nbiBob3cgeW91IGNhbiB0YWtlIHBhcnQgaW4gaW1wcm92aW5nIFJlYWN0LgoK\nIyMjIFtDb2RlIG9mIENvbmR1Y3RdKGh0dHBzOi8vY29kZS5mYi5jb20vY29k\nZW9mY29uZHVjdCkKCkZhY2Vib29rIGhhcyBhZG9wdGVkIGEgQ29kZSBvZiBD\nb25kdWN0IHRoYXQgd2UgZXhwZWN0IHByb2plY3QgcGFydGljaXBhbnRzIHRv\nIGFkaGVyZSB0by4gUGxlYXNlIHJlYWQgW3RoZSBmdWxsIHRleHRdKGh0dHBz\nOi8vY29kZS5mYi5jb20vY29kZW9mY29uZHVjdCkgc28gdGhhdCB5b3UgY2Fu\nIHVuZGVyc3RhbmQgd2hhdCBhY3Rpb25zIHdpbGwgYW5kIHdpbGwgbm90IGJl\nIHRvbGVyYXRlZC4KCiMjIyBbQ29udHJpYnV0aW5nIEd1aWRlXShodHRwczov\nL3JlYWN0anMub3JnL2NvbnRyaWJ1dGluZy9ob3ctdG8tY29udHJpYnV0ZS5o\ndG1sKQoKUmVhZCBvdXIgW2NvbnRyaWJ1dGluZyBndWlkZV0oaHR0cHM6Ly9y\nZWFjdGpzLm9yZy9jb250cmlidXRpbmcvaG93LXRvLWNvbnRyaWJ1dGUuaHRt\nbCkgdG8gbGVhcm4gYWJvdXQgb3VyIGRldmVsb3BtZW50IHByb2Nlc3MsIGhv\ndyB0byBwcm9wb3NlIGJ1Z2ZpeGVzIGFuZCBpbXByb3ZlbWVudHMsIGFuZCBo\nb3cgdG8gYnVpbGQgYW5kIHRlc3QgeW91ciBjaGFuZ2VzIHRvIFJlYWN0LgoK\nIyMjIEdvb2QgRmlyc3QgSXNzdWVzCgpUbyBoZWxwIHlvdSBnZXQgeW91ciBm\nZWV0IHdldCBhbmQgZ2V0IHlvdSBmYW1pbGlhciB3aXRoIG91ciBjb250cmli\ndXRpb24gcHJvY2Vzcywgd2UgaGF2ZSBhIGxpc3Qgb2YgW2dvb2QgZmlyc3Qg\naXNzdWVzXShodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvbGFi\nZWxzL2dvb2QlMjBmaXJzdCUyMGlzc3VlKSB0aGF0IGNvbnRhaW4gYnVncyB3\naGljaCBoYXZlIGEgcmVsYXRpdmVseSBsaW1pdGVkIHNjb3BlLiBUaGlzIGlz\nIGEgZ3JlYXQgcGxhY2UgdG8gZ2V0IHN0YXJ0ZWQuCgojIyMgTGljZW5zZQoK\nUmVhY3QgaXMgW01JVCBsaWNlbnNlZF0oLi9MSUNFTlNFKS4K\n", "encoding": "base64", "_links": { "self": "https://api.github.com/repos/facebook/react/contents/README.md?ref=master", "git": "https://api.github.com/repos/facebook/react/git/blobs/33d3929acc15dc3660c822f9ed09a8762ad43552", "html": "https://github.com/facebook/react/blob/master/README.md" } }

}
function Detail({ readme }) {
  return <MdRender content={readme.content} isBase64={true} />
}

Detail.getInitialProps = async ({ ctx }) => {
  const { query: { owner, name }, req, res } = ctx
  const readmeResp = await api.request({
    url: `/repos/${owner}/${name}/readme`
  }, req, res).catch(err => { console.log("Detail.getInitialProps---err", err) })

  // console.log('readmeResp.data', readmeResp.data)
  return {
    readme: readmeResp.data
  }
}

export default widthRepoBasic(Detail, 'index')